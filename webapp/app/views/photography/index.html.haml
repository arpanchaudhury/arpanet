%section
  .two-column-layout.container-fluid
    .row
      .column.column-one.col-lg-9
        %h5.text-muted.centered Showing #{get_first_content_index(@pager)} to #{get_last_content_index(@pager)} of total #{@pager[:count]} Photographs
        .tags
          - for tag in @tags
            %a.label.label-danger.remove-tag
              = tag
              %i.fa.fa-times
        .cards
          - @image_details.in_groups_of(3) do |group|
            .row
              - group.each do |image_detail|
                - if image_detail
                  - title = get_photograph_title(image_detail)
                  .column.col-lg-4
                    .card
                      - if is_device
                        = image_tag(get_resized_photograph_url(image_detail, 900, 600), {:class => 'card-img-top img-thumbnail photo-small center-block', :alt => title})
                      - else
                        = image_tag(get_resized_photograph_url(image_detail, 375, 250), {:class => 'card-img-top img-thumbnail photo-small center-block', :alt => title})
                      .card-block
                        %h4.card-title= title
                        %p.card-text= get_photograph_description(image_detail)
                        -for tag in get_photograph_tags(image_detail)
                          %a.label.label-pill.label-success.tag= tag
        %nav.column.col-lg-12
          %ul.pager
            %li
              %a{:href => get_previous_page_url(@pager, photography_path, {:tags => @tags})}
                %i.fa.fa-2x.fa-hand-o-left
            - if !is_device
              %li
                %a.slide-show{'data-target' => '#photograph-modal', 'data-toggle' => 'modal'}
                  %i.fa.fa-2x.fa-film{'data-toggle' => 'tooltip',  'data-placement' => 'top',  'title' => 'slide-show start'}
            %li
              %a{:href => get_next_page_url(@pager, photography_path, {:tags => @tags})}
                %i.fa.fa-2x.fa-hand-o-right
      .column.column-two.col-lg-3
        %h5.text-muted.centered Equipments & References
        .drawer
          - for drawer_item in @photography_references
            .drawer-item
              .card
                - title = get_reference_title(drawer_item)
                = image_tag(get_reference_image_url(drawer_item, 250, 375), {:class => 'card-img-top img-thumbnail photo-small center-block', :alt => title})
                .card-block
                  %h4.card-title= title
                .card-block
                  %p.card-text= get_reference_description(drawer_item)
          - for drawer_item in @photography_equipments
            .drawer-item
              .card
                .card-block
                  %h4.card-title= get_equipment_title(drawer_item)
                .card-block
                  %p.card-text= get_equipment_description(drawer_item)
                  %a.card-link{:href => get_equipment_specification_url(drawer_item), :target => 'blank'} Specification
          - if !is_device
            .fa-stack.fa-lg.center-block.drawer-button
              %i.fa.fa-circle-o.fa-stack-2x
              %i.fa.fa-stack-1x.drawer-icon
  - if !is_device
    = render partial: 'partials/photography_view_modal'
    = render partial: 'partials/photography_modal', :locals => {:image_details => @image_details}
%script
  init_photography();